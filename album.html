<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
  <title>Post app</title>

  <!-- CSS  -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>

  <link rel="stylesheet" type="text/css" href="slick/slick.css"/>
  <link rel="stylesheet" type="text/css" href="slick/slick-theme.css"/>

  <script type="text/javascript">
   
    function albumLoad(){
    var albumsAPI = "http://jsonplaceholder.typicode.com/albums";
    var photosAPI = "http://jsonplaceholder.typicode.com/photos";
    $.getJSON(albumsAPI, function (data) {
      $.getJSON(photosAPI, function (data1) {
        $('#loadingimage').hide();
     for (var i=0;i<data.length;i++) {
        if (data[i].userId == sessionStorage.userId) {
          $('#postAll').append($('<ul class= "collapsible" data-collapsible = "accordion">').collapsible()
                     .append($('<li/>')
                        .append($('<div style="color:blue"/>')
                              .attr("class", "collapsible-header")
                              .text(data[i].title)
                        ) 
                        .append($('<div/>')
                            .attr("class", "collapsible-body")
                            .append($('<section/>')
                                .attr("class", "regular slider")
                                .attr("id", i)
                                
                            )
                            
                        )   


                  )  
                
          );  
                   
        }
        for(var j=0;j<data1.length;j++){ 
              if (data[i].id == data1[j].albumId) {
                   $('#'+i+'').append($('<img/>')
                         
                            .attr("src", data1[j].thumbnailUrl)
                            .attr("alt", data1[j].title)
                         
                         
        
                  );  
               }
              } 
    }
      });
    });  

   }  

   
  </script>
  <style type="text/css">
   
    .slider {
        width: 50%;
        margin: 100px auto;
        display: inline;
    }

  
  </style>
</head>

<body onload="albumLoad()" style="background-color: #E9EBEE">
  <nav class="blue darken-4" role="navigation">
    <div class="nav-wrapper container"><a  href="#" class="brand-logo">PostApp</a>
      <ul class="right hide-on-med-and-down">
        <li><a id="logo-container" href="#">User</a></li>
        <li><a href="index.html">New User</a></li>
        <li><a href="album.html">Album</a></li>
        <li><a href="profile.html">Post</a></li>
      </ul>

      <ul id="nav-mobile" class="side-nav">
        <li><a id="logo-container" href="#">User</a></li>
        <li><a href="index.html">New User</a></li>
        <li><a href="album.html">Album</a></li>
        <li><a href="profile.html">Post</a></li>
      </ul>
      <a href="#" data-activates="nav-mobile" class="button-collapse"><i class="material-icons">menu</i></a>
    </div>
  </nav>
  <div class="section no-pad-bot" id="index-banner">
    <div id="postAll" class="container">
         <h5>Albums</h5>
         <div class="progress" id="loadingimage">
              <div class="indeterminate"></div>
          </div>
          
    
     
    </div>
  </div>
 

  <!--  Scripts-->
  <script src="https://code.jquery.com/jquery-2.2.3.min.js"></script>
  <script type="text/javascript" src="slick/slick.min.js"></script>
  <script src="js/materialize.min.js"></script>
  <script src="js/init.js"></script>
  <script type="text/javascript">
    $('#logo-container').text("UserId:"+ sessionStorage.userId);
  </script>
  
  
    <script type="text/javascript">
    $(document).on('ready', function() {
      $(".regular").slick({
        dots: true,
        infinite: true,
        slidesToShow: 3,
        slidesToScroll: 3
      });
    });
     
  </script>
  
  </body>
</html>
